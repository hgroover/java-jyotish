<?php
// Quick navigation data for achart.php
// Format: place abbreviation, place full name, longitude, latitude, zoomlevel, timezone latitude band index, timezone lune index, timezone name
$qn[] = array("Honolulu", "Honolulu, Hawaii USA", -157.80936279296873, 21.28959741296142, 9, 9, 0, 		"Pacific/Honolulu");
$qn[] = array("LA", "Los Angeles, CA USA", 		-118.24943847656249, 34.05690641311199, 9, 	11, 3, 		"America/Los_Angeles");
$qn[] = array("SFO", "San Francisco, CA USA", 	-122.38558044433591, 37.62063722201185, 9, 	12, 3, 		"America/Los_Angeles");
$qn[] = array("Seattle", "Seattle, WA USA", 	-122.33682861328123, 47.6149189319474, 9, 	12, 3, 		"America/Los_Angeles");
$qn[] = array("Phoenix", "Phoenix, AZ USA", 	-112.07412599926761, 33.45278157862461, 9, 	11, 4, 		"America/Phoenix" );
$qn[] = array("Denver", "Denver, CO USA", 		-104.98326658612064, 39.73923481931437, 9, 	12, 4, 		"America/Denver" );
$qn[] = array("Chicago", "Chicago, IL USA", 	-87.64394531250002, 41.86114624587918, 9, 	12, 5, 		"America/Chicago");
$qn[] = array("Dallas", "Dallas, TX USA", 		-96.8024432600098, 32.77962280194018, 8, 	11, 5, 		"America/Chicago" );
$qn[] = array("Miami", "Miami, FL", 			-80.21647949218749, 25.786589330900224, 9, 	10, 6, 		"America/New_York");
$qn[] = array("Toronto", "Toronto, Canada", 	-79.38044428234866, 43.651973092941404, 8, 	13, 6, 		"America/Toronto" );
$qn[] = array("Montreal", "Montreal, Canada", 	-73.55185388928226, 45.51031452307961, 9, 	13, 6, 		"America/Montreal" );
$qn[] = array("Wash.DC", "Washington, DC", 		-77.03653397673799, 38.89509598592586, 9, 	11, 5, 		"America/New_York");
$qn[] = array("NYC", "New York, NY", 			-74.00617980957031, 40.7126551444737, 9, 	11, 5, 		"America/New_York");
$qn[] = array("Mexico City", "Mexico City", 	-99.14194291015622, 19.41538051368275, 9, 	9, 4, 		"America/Mexico_City");
$qn[] = array("Lima", "Lima, Peru", 			-77.04473987304686, -12.059234149032738, 9, 6, 6, 		"America/Lima");
$qn[] = array("Santiago", "Santiago, Chile", 	-70.66031353515626, -33.45186990589126, 9, 	4, 6, 		"America/Santiago");
$qn[] = array("Rio", "Rio de Janeiro, Brazil",	-43.229777343750015, -22.903429318298294, 9, 5, 8, 		"America/Sao_Paulo");
$qn[] = array("Buenos Aires", "Buenos Aires", 	-58.37717240234372, -34.63382111012051, 9, 	4, 7, 		"America/Argentina/Buenos_Aires");
$qn[] = array("Madrid", "Madrid", 				-3.703710019531286, 40.40456006307594, 9, 	12, 11, 	"Europe/Madrid");
$qn[] = array("London", "London", 				-0.13408203125004547, 51.4848039043677, 8, 	14, 11, 	"Europe/London");
$qn[] = array("Paris", "Paris", 				2.3470051953124766, 48.86422640386183, 9, 	14, 11, 	"Europe/Paris");
$qn[] = array("Berlin", "Berlin", 				13.397878623046836, 52.52328903337785, 9, 	14, 12, 	"Europe/Berlin");
$qn[] = array("Vienna", "Vienna, Austria", 		16.392605195312512, 48.20561572163152, 9, 	14, 12, 	"Europe/Vienna");
$qn[] = array("Stockholm", "Stockholm, Sweden", 18.06374257080074, 59.32889589822742, 9, 	14, 12, 	"Europe/Stockholm" );
$qn[] = array("Helsinki", "Helsinki, Finland", 	24.94348408447263, 60.16248540607562, 9, 	14, 13, 	"Europe/Helsinki" );
$qn[] = array("Kiev", "Kiev, Ukraine", 			30.472010390624973, 50.43646919517176, 9, 	14, 13, 	"Europe/Kiev" );
$qn[] = array("Moscow", "Moscow", 				37.62410542968746, 55.74833383189173, 9, 	14, 14, 	"Europe/Moscow");
$qn[] = array("Istanbul", "Istanbul, Turkey", 	28.985079543457005, 41.040464723927066, 10, 12, 13, 	"Europe/Istanbul" );
$qn[] = array("Rome", "Rome, Italy", 			12.493399398193333, 41.89212808703125, 10, 	12, 12, 	"Europe/Rome" );
$qn[] = array("Athens", "Athens, Greece", 		23.735588805541965, 37.97553958106182, 11, 	12, 13, 	"Europe/Athens" );
$qn[] = array("Lagos", "Lagos, Nigeria", 		3.3820439257813177, 6.456106653392189, 9, 	8, 11, 		"Africa/Lagos");
$qn[] = array("Cape Town", "Cape Town, South Africa", 18.4282445507813, -33.9394238254783, 9, 4, 12, 	"Africa/Johannesburg");
$qn[] = array("Algiers", "Algiers, Algeria",	3.052878613281223, 36.755344889459586, 7, 	12, 11, 	"Africa/Algiers" );
$qn[] = array("Cairo", "Cairo, Egypt", 			31.24104847656247, 30.032788788404744, 9, 	11, 13, 	"Africa/Cairo");
$qn[] = array("Nairobi", "Nairobi, Kenya", 		36.818936074218755, -1.2932908972253057, 9, 7, 13, 		"Africa/Nairobi");
$qn[] = array("Riyadh", "Riyadh, Saudi Arabia", 46.70340897308347, 24.709343589128636, 6, 	10, 14, 	"Asia/Riyadh" );
$qn[] = array("Tehran", "Tehran, Iran", 		51.41195316406254, 35.68569498056169, 9, 	11, 14, 	"Asia/Tehran");
$qn[] = array("Delhi", "New Delhi", 			77.23325904785156, 28.60798709300431, 9, 	10, 16, 	"Asia/Kolkata");
$qn[] = array("Bangkok", "Bangkok", 			100.64580405273432, 13.813351056752367, 9, 	9, 18, 		"Asia/Bangkok");
$qn[] = array("Singapore", "Singapore", 		103.8428308496093, 1.3010200594440282, 9, 	8, 18, 		"Asia/Singapore");
$qn[] = array("Jakarta", "Jakarta, Indonesia", 	106.8146332324219, -6.259388273243122, 9, 	7, 18, 		"Asia/Jakarta");
$qn[] = array("Hong Kong", "Hong Kong", 		114.20843393554685, 22.24774047857567, 9, 	10, 19, 	"Asia/Hong_Kong");
$qn[] = array("Beijing", "Beijing", 			116.40020139648436, 39.90810826909188, 9, 	12, 19, 	"Asia/Shanghai");
$qn[] = array("Manila", "Manila, Philippines", 	121.0254486621094, 14.603463715467898, 9, 	9, 19, 		"Asia/Manila");
$qn[] = array("Tokyo", "Tokyo, Japan", 			139.7550800537109, 35.68067279329665, 9, 	11, 20, 	"Asia/Tokyo");
$qn[] = array("Sydney", "Sydney", 				151.19047246582033, -33.87844365763899, 9, 	4, 21, 		"Australia/Sydney");
$qn[] = array("Auckland", "Auckland, New Zealand", 174.75683293945315, -36.859890248788076, 9, 3, 23, 	"Pacific/Auckland");
// Stockholm, Istanbul, Riyadh

function ConstructQuickNav()
{
  $s = "";
  global $qn;
	for ($n = 0; $n < sizeof($qn); $n++)
	{
		$termData = DecimalToGeoTerm($qn[$n][3], "SN") . " " . DecimalToGeoTerm($qn[$n][2], "WE");
		$s .= sprintf( " <a href=\"javascript:navTo(%d,%.5f,%.5f,%d,%d,'%s')\" title=\"Go to %s\">%s</a>",
			$qn[$n][4], $qn[$n][3], $qn[$n][2],  // zoom, lat, lon
			$qn[$n][5], $qn[$n][6], // Band and lune index
			$qn[$n][7], // Timezone name
			$qn[$n][1] . " {$termData}", // Full name
			$qn[$n][0] ); // Abbreviated name
	}
	// check for default_lat and default_lon in cookies
	if (isset( $_COOKIE['default_lat'] ) && isset( $_COOKIE['default_lon'] ) && isset( $_COOKIE['default_tzname'] ))
	{
		$s .= QuickNavLinkFromGeoTerms( $_COOKIE['default_lat'], $_COOKIE['default_lon'], "default location", "(default)", $_COOKIE['default_tzname'] );
	}
  return $s;
}

// Construct quick nav link using geoterm lat/lon
function QuickNavLinkFromGeoTerms( $lat, $lon, $fullname, $linkname, $tzname )
{
	// Convert to digital
	$dlat = ParseGeoTerm( $lat );
	$dlon = ParseGeoTerm( $lon );
	// Get band and lune indices (needed for javascript link)
	$band = LatToBandIndex( $dlat );
	$lune = LonToSegmentIndex( $dlon );
	// Use navTo defined in achart-map.js
	return sprintf( " <a href=\"javascript:navTo(9,%.6f,%.6f,%d,%d,'%s')\" title=\"Go to %s (%s %s)\">%s</a>",
		$dlat, $dlon,
		$band, $lune,
		$tzname,
		$fullname, $lat, $lon,
		$linkname );
}

// Close php tag intentionally ommitted

